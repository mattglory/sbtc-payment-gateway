# sBTC Payment Gateway - Railway Production Environment
# This file contains production environment variable templates for Railway deployment

# =================================
# APPLICATION CONFIGURATION
# =================================
NODE_ENV=production
PORT=$PORT
HOST=0.0.0.0
APP_VERSION=1.0.0
LOG_LEVEL=info

# =================================
# STACKS BLOCKCHAIN CONFIGURATION  
# =================================
# Network: Use mainnet for production
STACKS_NETWORK=mainnet

# Your deployed smart contract address (update with actual mainnet address)
CONTRACT_ADDRESS=SP1HTBVD3JG9C05J7HBJTHGR0GGW7KXW28M5JS8QE

# Production private key (set in Railway dashboard as sensitive variable)
DEPLOYER_PRIVATE_KEY=$DEPLOYER_PRIVATE_KEY

# Stacks API endpoint (leave empty for default mainnet)
STACKS_API_URL=

# =================================
# API CONFIGURATION
# =================================
# Disable demo mode in production
DEMO_MODE=false

# Production API keys (set in Railway dashboard)
API_KEYS=$API_KEYS

# Strong JWT secret for production (set in Railway dashboard)
JWT_SECRET=$JWT_SECRET

# =================================
# CORS AND SECURITY
# =================================
# Production allowed origins (update with your frontend domains)
CORS_ORIGINS=https://sbtcpaymentgateway.vercel.app,https://your-frontend.com

# Production rate limiting (more restrictive)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50

# =================================
# DATABASE CONFIGURATION (Railway PostgreSQL)
# =================================
# Railway automatically provides DATABASE_URL
DATABASE_URL=$DATABASE_URL

# If using separate DB vars instead of DATABASE_URL:
DB_HOST=$PGHOST
DB_PORT=$PGPORT
DB_NAME=$PGDATABASE
DB_USER=$PGUSER
DB_PASSWORD=$PGPASSWORD

# Database Pool Settings (optimized for Railway)
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=2
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000

# SSL Configuration for Railway PostgreSQL
DB_SSL_REJECT_UNAUTHORIZED=true

# =================================
# BITCOIN CONFIGURATION
# =================================
# Use mainnet for production Bitcoin
BITCOIN_NETWORK=mainnet

# Secure address seed for production (set in Railway dashboard)
BITCOIN_ADDRESS_SEED=$BITCOIN_ADDRESS_SEED

# Production confirmations (6 for mainnet security)
BITCOIN_CONFIRMATIONS=6

# Conservative monitoring interval for production (2 minutes to respect API limits)
BITCOIN_MONITORING_INTERVAL=120000

# Lower poll limit for production to respect Blockstream API
BITCOIN_POLL_LIMIT=50

# =================================
# MONITORING AND LOGGING
# =================================
# Enable production monitoring
ENABLE_MONITORING=true

# Production webhook endpoints (set in Railway dashboard)
WEBHOOK_ENDPOINTS=$WEBHOOK_ENDPOINTS

# Error reporting service (optional - set in Railway dashboard)
SENTRY_DSN=$SENTRY_DSN

# =================================
# PRODUCTION CONFIGURATION
# =================================
# Disable debug mode in production
DEBUG=false

# Disable API docs in production for security
ENABLE_API_DOCS=false

# Disable test endpoints in production
ENABLE_TEST_ENDPOINTS=false

# =================================
# RAILWAY-SPECIFIC VARIABLES
# =================================
# Railway provides these automatically:
# RAILWAY_ENVIRONMENT=production
# RAILWAY_SERVICE_NAME=sbtc-payment-gateway
# RAILWAY_PROJECT_NAME=your-project
# PORT=3000 (or dynamic port)

# Custom Railway health check path
HEALTH_CHECK_PATH=/health

# Railway metrics endpoint (if using Railway metrics)
METRICS_ENDPOINT=/metrics